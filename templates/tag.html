<!doctype html>
<html
  xmlns:th="https://www.thymeleaf.org"
  th:replace="~{modules/layout :: html(title = ${tag.spec.displayName} + ' - ' + ${site.title}, content = ~{::content}, head = null, footer = null, sidebar = null, contentClass = '', isPostPage = false)}"
>
  <th:block th:fragment="content">
    <!-- All Tags (current tag highlighted) -->
    <div class="no-heti flex flex-wrap gap-x-3 gap-y-3.2 mb-8">
      <a
        th:each="t : ${tags}"
        th:href="@{${t.status.permalink}}"
        th:classappend="${t.spec.displayName == tag.spec.displayName ? 'border-secondary/80 c-primary font-medium ring-0.2' : 'ring-0'}"
        class="relative inline-block border border-secondary/25 rounded-full px-3.2 py-0.7 ring-secondary/80 transition-[colors,box-shadow] ease-out hover:border-secondary/80 hover:c-primary hover:font-medium hover:ring-0.2"
      >
        <span class="absolute inset-0 flex items-center justify-center whitespace-nowrap transition-font-weight" th:text="${t.spec.displayName}"></span>
        <span class="inline-block font-medium opacity-0" aria-hidden="true" th:text="${t.spec.displayName}"></span>
      </a>
    </div>

    <!-- Decorative Line -->
    <div class="uno-decorative-line"></div>

    <!-- Post List (matching PostList.astro) -->
    <ul th:if="${posts.total gt 0}">
      <li th:each="post : ${posts.items}" th:data-post-name="${post.metadata.name}" class="mb-5.5">
        <h3 class="inline transition-colors hover:c-primary">
          <a
            th:href="@{${post.status.permalink}}"
            class="cjk:tracking-wide"
            th:text="${post.spec.title}"
          ></a>
        </h3>
        <div data-post-date="mobile" class="py-0.8 text-3.5 font-time lg:hidden">
          <time th:text="${#dates.format(post.spec.publishTime, 'yyyy-MM-dd')}"></time>
        </div>
        <div data-post-date="desktop" class="hidden text-3.65 font-time lg:ml-2.5 lg:inline">
          <time th:text="${#dates.format(post.spec.publishTime, 'yyyy-MM-dd')}"></time>
        </div>
      </li>
    </ul>

    <!-- Pagination -->
    <nav
      th:if="${posts.hasPrevious() || posts.hasNext()}"
      class="mt-8 grid grid-cols-[1fr_auto_1fr] items-center font-navbar text-3.5"
    >
      <div>
        <a
          th:if="${posts.hasPrevious()}"
          th:href="@{${posts.prevUrl}}"
          class="highlight-hover py-0.8 c-secondary transition-colors after:bottom-0.35em hover:c-primary"
          th:text="${t_prev}"
        ></a>
      </div>
      <span class="c-secondary/60 font-time" th:text="${posts.page} + ' / ' + ${posts.totalPages}"></span>
      <div class="text-right">
        <a
          th:if="${posts.hasNext()}"
          th:href="@{${posts.nextUrl}}"
          class="highlight-hover py-0.8 c-secondary transition-colors after:bottom-0.35em hover:c-primary"
          th:text="${t_next}"
        ></a>
      </div>
    </nav>
  </th:block>
</html>
